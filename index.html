<!DOCTYPE html>
<html>
<head>
	<title>Create Memes</title>
	<link rel="stylesheet" type="text/css" href="css/app.css">
</head>
<body>
	<section>
		<form>
			<label>Link de Imagem</label>
			<input id="linkImagem" type="text" name="linkImagem">
			<button id="carregarImagem">Carregar</button>
		</form>
	</section>
	<canvas id="c"></canvas>	
	<section>
		<form>
			<label>Frase</label>
			<input id="frase" type="text" name="frase">

			<label>Ponto X</label>
			<input id="x" type="number" name="x">

			<label>Ponto Y</label>
			<input id="y" type="number" name="y">
			<button id="inserirFrase">Inserir</button>
		</form>
	</section>
	<script>
		let canvas = document.querySelector("#c");
		let context = canvas.getContext("2d");
		
		document.querySelector("#inserirFrase").addEventListener("click", function(e){
			e.preventDefault();
			createtextInImage();
		});

		document.querySelector("#carregarImagem").addEventListener("click", function(e){
			e.preventDefault();
			createImage(document.querySelector("#linkImagem").value);
		});

		//https://2.bp.blogspot.com/-3I9STecZVjA/TzG6jEfWCGI/AAAAAAAAfKQ/JSLV2yzPHJQ/s1600/VUDU.jpg
		function createImage(src){
			let image = new Image();
			image.src = src;
			image.onload = function(){
				context.drawImage(this, 0, 0, canvas.width, canvas.height);				
			}
		}

		function createtextInImage(){
			context.strokeText(document.querySelector("#frase").value, 
							document.querySelector("#x").value,
							document.querySelector("#y").value);
		}

		function saveImage(image){
			window.open(image.toDataURL());
		}
	</script>
</body>
</html>